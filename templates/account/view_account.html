{% extends "base.html"%}
{% block content %}

<div class="header">
    {% if request.user == object %}
    <h1>Hiya {{object.first_name|default:"pal"}}</h1>
    {%else%}
    <h1> {{object.first_name|default:"(No First Name Set)"}} {{object.last_name|default:"(No Last Name Set)"}}</h1>
    {% endif%}
</div>


<!-- Private User information goes here! -->
<!-- if user is in admin group or this is their account -->
{% if request.user|has_group:"Admin" or request.user == object %}

</div>

</div>

<div class="row m-5">
    <div class="col">
        <p>{{object.email|default:"No Email Set"}}</p>

        <p>{{object.phone_number|default:"No Phone Number Set"}}</p>

        <p>{{object.address|default:"No Address Set"}}</p>


    </div>
    <div class="col">
        {% url 'account-update' pk=object.id as account_update %}

        {% if object.email %}
        <a href='{{ account_update }}' class="btn btn-primary">Edit Email</a>
        {% else %}
        <a href='{{ account_update }}' class="btn btn-primary">Add Email</a>
        {% endif %}

        <br>
        {% if object.phone_number %}
        <a href='{{ account_update }}' class="btn btn-primary">Edit Phone Number</a>
        {% else %}
        <a href='{{ account_update }}' class="btn btn-primary">Add Phone Number</a>
        {% endif %}
        <br>
        {% if object.address %}
        {% url 'address-update' pk=object.address.id as address_update %}
        <a href='{{ address_update }}' class="btn btn-primary">Edit Address</a>
        {% else %}
        {% url 'address-create' as address_create %}
        <a href='{{ address_create }}' class="btn btn-primary">Add Address</a>
        {% endif %}

    </div>
</div>

<div class="row m-5">
    <div class="col">
        {% if request.user|has_group:'Admin' %}
        {% url 'account-delete' pk=object.id as account_delete %}
        <a href='{{ account_delete }}' class="btn m-auto btn-danger">Delete this Account</a>
        {% endif %}
    </div>
</div>
</div>
{% endif %}
{% endblock %}